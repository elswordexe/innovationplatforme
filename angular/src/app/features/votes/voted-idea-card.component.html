
<article class="card" (click)="onClick()">

  <!-- Image -->
  <div class="image-wrapper">
    <img
      [src]="idea.coverImageUrl || getPlaceholderImage(idea.title)"
      [alt]="idea.title"
      (error)="onImageError($event)"
    />
    <div class="vote-indicator" [class.upvote]="idea.voteType === 'UPVOTE'" [class.downvote]="idea.voteType === 'DOWNVOTE'" *ngIf="idea.voteType">
      <span class="vote-icon">{{ idea.voteType === 'UPVOTE' ? 'ğŸ‘' : 'ğŸ‘' }}</span>
    </div>
  </div>

  <!-- Content -->
  <div class="content">
    <div class="header">
      <h3>{{ idea.title }}</h3>

      <span
        *ngIf="idea.isInTop10"
        class="badge badge-top">
        Top 10
      </span>
    </div>

    <p class="description">
      {{ idea.description }}
    </p>

    <!-- Meta -->
    <div class="meta">
      <span>Score Â· {{ idea.totalScore }}</span>
      <span>Votes Â· {{ idea.voteCount }}</span>

      <span class="badge badge-status">
        {{ idea.status }}
      </span>

      <span
        *ngIf="idea.budgetApproved"
        class="badge badge-budget">
        Budget approuvÃ©
      </span>
    </div>

    <!-- Footer -->
    <div class="footer">
      <span>{{ formattedDate }}</span>
      <span *ngIf="idea.attachments?.length">
        {{ idea.attachments?.length }} piÃ¨ce(s) jointe(s)
      </span>
    </div>
  </div>

</article>
